import{_ as C}from"./XEMekSaF.js";import{_ as S}from"./CNEzupLF.js";import{E as M,M as N,r as c,J as B,k as V,c as l,a as e,q as j,b as u,w as A,u as n,C as F,s as R,o as d,d as E}from"./Pug_bBfL.js";import{u as L}from"./CsQcHwWO.js";import{u as T}from"./AcoE9KXp.js";import{u as $}from"./DH8Dax_t.js";const q={class:"min-h-screen bg-gray-50"},z={class:"bg-white shadow-sm border-b"},D={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},H={class:"flex items-center justify-between"},I={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},U=M({__name:"create",setup(J){L({title:"Create Service - Dashboard"});const{createService:m,fetchCategories:v,error:f,loading:x}=T(),{currentRole:g}=$(),o=N(),i=c([]),r=c(!1),a=c(null);B(g,t=>{t==="customer"&&o.push("/dashboard")},{immediate:!0}),V(async()=>{try{i.value=await v()}catch(t){console.error("Failed to fetch categories:",t)}});const p=async t=>{try{const s=await m(t);a.value=s.service,r.value=!0}catch(s){console.error("Failed to create service:",s)}},b=()=>{o.push("/dashboard/services")},h=()=>{r.value=!1,o.push("/dashboard/services")},w=()=>{var t;(t=a.value)!=null&&t.full_slug?o.push(`/services/${a.value.full_slug}`):o.push("/dashboard/services")},_=()=>{r.value=!1,a.value=null,window.scrollTo(0,0)};return(t,s)=>{const y=C,k=S;return d(),l("div",q,[e("div",z,[e("div",D,[e("div",H,[s[2]||(s[2]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Create New Service"),e("p",{class:"mt-1 text-sm text-gray-600"}," Add a new service to your portfolio and start receiving bookings ")],-1)),u(y,{to:"/dashboard/services",class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},{default:A(()=>s[1]||(s[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),E(" Back to Services ")])),_:1,__:[1]})])])]),e("div",I,[u(k,{categories:n(i),loading:n(x),error:n(f),onSubmit:p,onCancel:b},null,8,["categories","loading","error"])]),n(r)?(d(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:h},[e("div",{class:"bg-white rounded-lg p-6 max-w-md mx-4",onClick:s[0]||(s[0]=R(()=>{},["stop"]))},[e("div",{class:"text-center"},[s[3]||(s[3]=F('<div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4"><svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">Service Created!</h3><p class="text-sm text-gray-600 mb-6"> Your service has been created successfully. It&#39;s now live and ready to receive bookings. </p>',3)),e("div",{class:"flex space-x-3"},[e("button",{onClick:w,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," View Service "),e("button",{onClick:_,class:"flex-1 px-4 py-2 bg-white text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Create Another ")])])])])):j("",!0)])}}});export{U as default};
