import{_ as q}from"./B630Z1cd.js";import{E as K,k as R,l as L,H as Q,c as l,o as s,a as e,b as n,m as x,p as B,u as o,t as h,T as W,w as i,s as X,d as a,F as H,f as Y,g as Z,q as G,A as ee,r as te,j as F,C as oe,a0 as re,a7 as se}from"./B0BgVZwo.js";import{u as ae}from"./DznvAfsd.js";import{u as I}from"./DoIc1ZKu.js";import{u as ne}from"./CXAG8btk.js";import{u as le}from"./rXGXeLRV.js";import"./x_rD_Ya3.js";import"./BdfSQn7-.js";const ie={class:"relative"},de={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium"},ue={class:"flex items-center justify-between p-4 border-b border-gray-200"},ce={class:"flex items-center space-x-2"},me=["disabled"],ge={class:"max-h-96 overflow-y-auto"},ve={key:0,class:"p-4 text-center"},he={key:1,class:"p-8 text-center"},xe={key:2},pe={key:0,class:"p-3 border-t border-gray-200 bg-gray-50"},fe=K({__name:"NotificationDropdown",setup(J){const{notifications:u,unreadCount:p,isLoading:y,isDropdownOpen:c,hasUnreadNotifications:k,fetchRecentNotifications:C,markAsRead:M,markAsUnread:b,markAllAsRead:w,deleteNotification:z,toggleDropdown:j,closeDropdown:v,startAutoRefresh:f,stopAutoRefresh:N}=ae();R(()=>{C(),f()}),L(()=>{N()});const V=async g=>{var t;g.read_at||await M(g.id);const r=(t=g.metadata)==null?void 0:t.action_url;r&&(v(),await G(r))},_=g=>{var r;(r=g.target)!=null&&r.closest(".relative")||v()};return R(()=>{document.addEventListener("click",_)}),L(()=>{document.removeEventListener("click",_)}),(g,r)=>{const t=q,d=Q("NotificationItem");return s(),l("div",ie,[e("button",{onClick:r[0]||(r[0]=(...m)=>o(j)&&o(j)(...m)),class:B(["relative p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200",{"text-blue-600":o(k)}])},[r[4]||(r[4]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4 12v7a2 2 0 002 2h5m0-9h4m-4-4h8m-8-4h8"})],-1)),o(p)>0?(s(),l("span",de,h(o(p)>99?"99+":o(p)),1)):x("",!0)],2),n(W,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:i(()=>[o(c)?(s(),l("div",{key:0,class:"absolute right-0 top-12 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",onClick:r[2]||(r[2]=X(()=>{},["stop"]))},[e("div",ue,[r[6]||(r[6]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Notifications",-1)),e("div",ce,[o(k)?(s(),l("button",{key:0,onClick:r[1]||(r[1]=(...m)=>o(w)&&o(w)(...m)),class:"text-sm text-blue-600 hover:text-blue-800 transition-colors",disabled:o(y)}," Mark all read ",8,me)):x("",!0),n(t,{to:"/dashboard/notifications",onClick:o(v),class:"text-sm text-gray-600 hover:text-gray-800 transition-colors"},{default:i(()=>r[5]||(r[5]=[a(" View all ")])),_:1,__:[5]},8,["onClick"])])]),e("div",ge,[o(y)?(s(),l("div",ve,r[7]||(r[7]=[e("div",{class:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto"},null,-1),e("p",{class:"text-sm text-gray-500 mt-2"},"Loading notifications...",-1)]))):o(u).length===0?(s(),l("div",he,r[8]||(r[8]=[e("svg",{class:"w-12 h-12 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4 12v7a2 2 0 002 2h5m0-9h4m-4-4h8m-8-4h8"})],-1),e("p",{class:"text-sm text-gray-500"},"No notifications yet",-1)]))):(s(),l("div",xe,[(s(!0),l(H,null,Y(o(u),m=>(s(),Z(d,{key:m.id,notification:m,onClick:V,onMarkRead:o(M),onMarkUnread:o(b),onDelete:o(z),class:"border-b border-gray-100 last:border-b-0"},null,8,["notification","onMarkRead","onMarkUnread","onDelete"]))),128))]))]),o(u).length>0?(s(),l("div",pe,[n(t,{to:"/dashboard/notifications",onClick:o(v),class:"block w-full text-center text-sm text-blue-600 hover:text-blue-800 transition-colors"},{default:i(()=>[a(" View all "+h(o(p)>0?`${o(p)} `:"")+"notifications ",1)]),_:1},8,["onClick"])])):x("",!0)])):x("",!0)]),_:1}),o(c)?(s(),l("div",{key:0,class:"fixed inset-0 z-40",onClick:r[3]||(r[3]=(...m)=>o(v)&&o(v)(...m))})):x("",!0)])}}}),be={class:"min-h-screen bg-gray-50 flex"},ye={class:"w-64 bg-white shadow-lg border-r border-gray-200 fixed inset-y-0 left-0 z-50"},ke={key:0,class:"px-6 py-4 border-b border-gray-200"},we={class:"flex items-center space-x-2"},_e={class:"mt-6 px-3"},Ce={class:"space-y-1"},Me={class:"flex-1 ml-64"},je={class:"bg-white shadow-sm border-b border-gray-200"},Be={class:"px-6 py-4"},ze={class:"flex items-center justify-between"},Ne={class:"text-2xl font-bold text-gray-900"},Ve={class:"text-gray-600"},$e={class:"flex items-center space-x-4"},Re={class:"relative","data-dropdown":""},Le={class:"relative"},He={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-200"},Pe=["src","alt"],Ue={key:1,class:"w-full h-full flex items-center justify-center bg-blue-500 text-white text-xs font-bold"},Ae=["title"],Se={class:"hidden sm:block text-left"},De={class:"text-sm font-medium text-gray-900"},Ee={class:"text-xs text-gray-500"},Te={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50"},Oe={class:"p-6"},Xe={__name:"dashboard",setup(J){const{user:u,logout:p}=I(),y=ee(),{currentRole:c,toggleRole:k,initializeRole:C,hasMultipleRoles:M}=ne(),{user:b,profileCompletion:w,displayName:z,userInitials:j,fetchProfile:v}=le(),f=te(!1),N=F(()=>{var t;const r=y.path;return r==="/dashboard"?`Good Morning, ${((t=u.value)==null?void 0:t.name)||"User"}!`:r==="/dashboard/notifications"?"Notifications":r==="/dashboard/services"?"Services":r==="/dashboard/bookings"?"Bookings":r==="/dashboard/calendar"?"Calendar":r==="/dashboard/analytics"?"Analytics":r==="/dashboard/payments"?"Payments":r==="/dashboard/profile"?"Profile Settings":"Dashboard"}),V=F(()=>{const r=y.path;return r==="/dashboard"?`Here's what's happening with your ${c.value==="vendor"?"business":"bookings"} today.`:r==="/dashboard/bookings"?c.value==="vendor"?"Manage your service appointments and customer bookings":"Track your booked services and appointments":r==="/dashboard/notifications"?"Manage your notifications and stay updated":r==="/dashboard/profile"?"Manage your account settings and preferences":""}),_=async()=>{await p(),await G("/")},g=r=>{r.target.closest("[data-dropdown]")||(f.value=!1)};return R(async()=>{const{fetchUser:r}=I();try{if(await r(),u.value)try{await v(),C()}catch(t){console.warn("Profile data not available:",t),C()}}catch(t){console.error("Authentication failed:",t)}document.addEventListener("click",g)}),L(()=>{document.removeEventListener("click",g)}),(r,t)=>{var P,U,A,S,D,E,T,O;const d=q,m=fe;return s(),l("div",be,[e("div",ye,[t[20]||(t[20]=oe('<div class="flex items-center h-16 px-6 border-b border-gray-200"><div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center mr-3"><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2L3 7v11h4v-6h6v6h4V7l-7-5z"></path></svg></div><span class="text-xl font-bold text-gray-900">ORDO</span></div>',1)),o(M)?(s(),l("div",ke,[e("div",we,[e("button",{onClick:t[0]||(t[0]=$=>o(k)("customer")),class:B([o(c)==="customer"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-blue-600","flex-1 px-3 py-2 rounded-md text-sm font-medium text-center"])}," Customer ",2),e("button",{onClick:t[1]||(t[1]=$=>o(k)("vendor")),class:B([o(c)==="vendor"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-purple-600","flex-1 px-3 py-2 rounded-md text-sm font-medium text-center"])}," Provider ",2)])])):x("",!0),e("nav",_e,[e("div",Ce,[n(d,{to:"/dashboard",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","exact-active-class":"bg-blue-50 text-blue-600"},{default:i(()=>[(s(),l("svg",{class:B(["text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",(r._.provides[re]||r.$route).path==="/dashboard"?"text-blue-500":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2 2z"},null,-1)]),2)),t[5]||(t[5]=a(" Dashboard "))]),_:1,__:[5]}),o(c)==="customer"?(s(),l(H,{key:0},[n(d,{to:"/dashboard/search",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[6]||(t[6]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),a(" Find Services ")])),_:1,__:[6]}),n(d,{to:"/dashboard/bookings",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[7]||(t[7]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),a(" My Bookings ")])),_:1,__:[7]}),n(d,{to:"/dashboard/favorites",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[8]||(t[8]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),a(" Favorites ")])),_:1,__:[8]}),n(d,{to:"/dashboard/reviews",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[9]||(t[9]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1),a(" My Reviews ")])),_:1,__:[9]})],64)):(s(),l(H,{key:1},[n(d,{to:"/dashboard/services",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[10]||(t[10]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),a(" My Services ")])),_:1,__:[10]}),n(d,{to:"/dashboard/bookings",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[11]||(t[11]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),a(" Appointments ")])),_:1,__:[11]}),n(d,{to:"/dashboard/calendar",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[12]||(t[12]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),a(" Calendar ")])),_:1,__:[12]}),n(d,{to:"/dashboard/analytics",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[13]||(t[13]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),a(" Analytics ")])),_:1,__:[13]}),n(d,{to:"/dashboard/earnings",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[14]||(t[14]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),a(" Earnings ")])),_:1,__:[14]}),n(d,{to:"/dashboard/reviews",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[15]||(t[15]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1),a(" Customer Reviews ")])),_:1,__:[15]})],64)),n(d,{to:"/dashboard/payments",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>[t[16]||(t[16]=e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),a(" "+h(o(c)==="customer"?"Payment History":"Payments"),1)]),_:1,__:[16]}),n(d,{to:"/dashboard/notifications",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[17]||(t[17]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4 12v7a2 2 0 002 2h5m0-9h4m-4-4h8m-8-4h8"})],-1),a(" Notifications ")])),_:1,__:[17]}),n(d,{to:"/dashboard/profile",class:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md","active-class":"bg-blue-50 text-blue-600"},{default:i(()=>t[18]||(t[18]=[e("svg",{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),a(" Profile Settings ")])),_:1,__:[18]})])]),e("div",{class:"absolute bottom-0 w-full px-6 py-4 border-t border-gray-200"},[e("button",{onClick:_,class:"flex items-center justify-center w-full px-3 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-200 hover:border-red-300",title:"Logout"},t[19]||(t[19]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),a(" Logout ")]))])]),e("div",Me,[e("header",je,[e("div",Be,[e("div",ze,[e("div",null,[e("h1",Ne,h(N.value),1),e("p",Ve,h(V.value),1)]),e("div",$e,[t[25]||(t[25]=e("div",{class:"relative"},[e("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),e("input",{type:"text",placeholder:"Search services, providers...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})],-1)),n(m),e("div",Re,[e("button",{onClick:t[2]||(t[2]=$=>f.value=!f.value),class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-colors",title:"User profile"},[e("div",Le,[e("div",He,[(P=o(b))!=null&&P.avatar_url||(U=o(u))!=null&&U.avatar?(s(),l("img",{key:0,src:((A=o(b))==null?void 0:A.avatar_url)||((S=o(u))==null?void 0:S.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:((D=o(b))==null?void 0:D.name)||((E=o(u))==null?void 0:E.name)||"User",class:"w-full h-full object-cover"},null,8,Pe)):(s(),l("div",Ue,h(o(j)||((T=o(u))!=null&&T.name?o(u).name.charAt(0).toUpperCase():"U")),1))]),o(b)&&o(w)<100?(s(),l("div",{key:0,class:"absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-orange-400 border border-white rounded-full",title:`Profile ${o(w)}% complete`},null,8,Ae)):x("",!0)]),e("div",Se,[e("div",De,h(o(z)||((O=o(u))==null?void 0:O.name)||"User"),1),e("div",Ee,h(o(c)==="vendor"?"Service Provider":"Customer"),1)]),t[21]||(t[21]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),f.value?(s(),l("div",Te,[n(d,{to:"/dashboard/profile",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:t[3]||(t[3]=$=>f.value=!1)},{default:i(()=>t[22]||(t[22]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),a(" Profile Settings ")],-1)])),_:1,__:[22]}),t[24]||(t[24]=e("hr",{class:"my-1"},null,-1)),e("button",{onClick:_,class:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50"},t[23]||(t[23]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})]),a(" Logout ")],-1)]))])):x("",!0)])])])])]),e("main",Oe,[se(r.$slots,"default")])])])}}};export{Xe as default};
