import{u as R}from"./DoIc1ZKu.js";import{j as n,I as f,r as p}from"./B0BgVZwo.js";const s=p("customer"),M=()=>{const{user:o}=R(),t=e=>{r(e)&&(s.value=e)},c=e=>{r(e)&&(s.value=e)},r=e=>{var l,u;return((u=(l=o.value)==null?void 0:l.roles)==null?void 0:u.includes(e))||!1},a=n(()=>{var u;const e=((u=o.value)==null?void 0:u.roles)||[],l=e.includes("customer")&&e.includes("vendor");return console.log("hasMultipleRoles debug:",{userRoles:e,hasMultiple:l,user:o.value}),l}),i=n(()=>{var l;return(((l=o.value)==null?void 0:l.roles)||["customer"]).includes("vendor")?"vendor":"customer"}),v=n(()=>s.value==="customer"),d=n(()=>s.value==="vendor"),m=()=>{var e;(e=o.value)!=null&&e.roles&&(o.value.roles.includes("vendor")&&o.value.roles.includes("customer")?r(s.value)||(s.value="vendor"):o.value.roles.includes("vendor")?s.value="vendor":s.value="customer")};return{currentRole:f(s),isCustomer:v,isVendor:d,hasMultipleRoles:a,primaryRole:i,toggleRole:t,setRole:c,hasRole:r,initializeRole:m}};export{M as u};
