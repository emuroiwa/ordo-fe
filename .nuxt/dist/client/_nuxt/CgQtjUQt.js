import{_ as B}from"./Chju5wGk.js";import{_ as R,r as u,A as V,j as h,k as N,c as r,a as t,b as l,w as a,T as m,o as n,d as i,s as T,q as y,v as M,y as j,t as k,m as _}from"./B83YThMf.js";import{u as q}from"./Dbeu7wQr.js";const A={class:"min-h-screen relative overflow-hidden"},S={class:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-sm"},E={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},H={class:"flex items-center justify-between h-16"},D={class:"flex items-center space-x-8"},U={class:"hidden md:flex space-x-8"},O={class:"flex items-center space-x-4"},Y={class:"relative z-10 pt-16"},$={class:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},F={class:"max-w-md w-full space-y-8"},G={class:"text-center"},I={class:"mt-2 text-sm text-gray-600"},W={key:0},Z={key:1},J={class:"backdrop-blur-xl bg-white/70 border border-white/20 rounded-2xl p-8 shadow-lg"},K={key:0,class:"text-center space-y-6"},Q={class:"relative"},X=["type"],ee={key:0,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te={key:1,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se={class:"relative"},oe=["type"],re={key:0,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le={key:1,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={key:0,class:"text-sm text-red-600 bg-red-50 p-3 rounded-lg"},ne={key:1,class:"space-y-2"},ie={class:"flex space-x-1"},de={class:"text-xs text-gray-500"},ue=["disabled"],pe={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},ce={key:2,class:"text-center space-y-6"},we={__name:"reset-password",setup(fe){const s=u({password:"",confirmPassword:""}),f=u(!1),x=u(!1),c=u(!1),g=u(!1),P=u(!1),p=u(""),b=V().query.token,C=h(()=>s.value.password&&s.value.confirmPassword&&s.value.password===s.value.confirmPassword&&s.value.password.length>=8),v=h(()=>{const o=s.value.password;let e=0;return o.length>=8&&e++,/[A-Z]/.test(o)&&/[a-z]/.test(o)&&e++,/\d/.test(o)&&/[!@#$%^&*(),.?":{}|<>]/.test(o)&&e++,e}),z=h(()=>{const o=v.value;return o===0?"Too weak":o===1?"Weak":o===2?"Good":"Strong"}),L=async()=>{if(C.value){if(p.value="",s.value.password!==s.value.confirmPassword){p.value="Passwords do not match";return}if(s.value.password.length<8){p.value="Password must be at least 8 characters long";return}c.value=!0;try{await new Promise(o=>setTimeout(o,1500)),console.log("Password reset successful with token:",b),g.value=!0}catch(o){console.error("Password reset failed",o),p.value="Failed to reset password. Please try again."}finally{c.value=!1}}};return N(()=>{if(!b){P.value=!0;return}console.log("Validating reset token:",b)}),q({title:"Reset Password - ORDO"}),(o,e)=>{const d=B;return n(),r("div",A,[e[28]||(e[28]=t("div",{class:"fixed inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},[t("div",{class:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=1080&fit=crop&crop=entropy&auto=format&q=80')] bg-cover bg-center opacity-10"}),t("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-indigo-500/5 to-purple-500/5"})],-1)),t("header",S,[t("div",E,[t("div",H,[l(m,{name:"slide-right",appear:""},{default:a(()=>[t("div",D,[l(d,{to:"/",class:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},{default:a(()=>e[4]||(e[4]=[i(" ORDO ")])),_:1,__:[4]}),t("nav",U,[l(d,{to:"/search",class:"text-gray-700 hover:text-blue-600 transition-colors duration-200"},{default:a(()=>e[5]||(e[5]=[i("Search")])),_:1,__:[5]}),l(d,{to:"/map-search",class:"text-gray-700 hover:text-blue-600 transition-colors duration-200"},{default:a(()=>e[6]||(e[6]=[i("Map Search")])),_:1,__:[6]}),l(d,{to:"/how-it-works",class:"text-gray-700 hover:text-blue-600 transition-colors duration-200"},{default:a(()=>e[7]||(e[7]=[i("How it Works")])),_:1,__:[7]}),l(d,{to:"/about",class:"text-gray-700 hover:text-blue-600 transition-colors duration-200"},{default:a(()=>e[8]||(e[8]=[i("About us")])),_:1,__:[8]})])])]),_:1}),l(m,{name:"slide-left",appear:""},{default:a(()=>[t("div",O,[l(d,{to:"/login",class:"text-blue-600 hover:text-blue-800 transition-colors duration-200"},{default:a(()=>e[9]||(e[9]=[i("Login")])),_:1,__:[9]}),l(d,{to:"/register",class:"backdrop-blur-sm bg-white/20 border border-white/30 px-4 py-2 rounded-xl font-medium text-gray-700 hover:bg-white/30 transition-all duration-300"},{default:a(()=>e[10]||(e[10]=[i("Register")])),_:1,__:[10]})])]),_:1})])])]),t("main",Y,[t("div",$,[t("div",F,[l(m,{name:"scale-up",appear:""},{default:a(()=>[t("div",G,[e[11]||(e[11]=t("svg",{class:"mx-auto h-12 w-12 text-blue-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})],-1)),e[12]||(e[12]=t("h2",{class:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent"}," Reset Your Password ",-1)),t("p",I,[g.value?(n(),r("span",Z,"Your password has been successfully reset!")):(n(),r("span",W,"Enter your new password below"))])])]),_:1}),l(m,{name:"fade-up",appear:""},{default:a(()=>[t("div",J,[P.value?(n(),r("div",K,[e[14]||(e[14]=t("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto"},[t("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[15]||(e[15]=t("div",null,[t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Invalid or Expired Link"),t("p",{class:"text-gray-600 mb-4"}," This password reset link is invalid or has expired. Please request a new one. ")],-1)),l(d,{to:"/forgot-password",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-xl font-medium hover:shadow-lg transition-all duration-300 text-center block"},{default:a(()=>e[13]||(e[13]=[i(" Request New Reset Link ")])),_:1,__:[13]})])):g.value?(n(),r("div",ce,[e[26]||(e[26]=t("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto"},[t("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e[27]||(e[27]=t("div",null,[t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Password Updated!"),t("p",{class:"text-gray-600 mb-4"}," Your password has been successfully updated. You can now login with your new password. ")],-1)),l(d,{to:"/login",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-xl font-medium hover:shadow-lg transition-all duration-300 text-center block"},{default:a(()=>e[25]||(e[25]=[i(" Go to Login ")])),_:1,__:[25]})])):(n(),r("form",{key:1,class:"space-y-6",onSubmit:T(L,["prevent"])},[t("div",null,[e[18]||(e[18]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," New Password ",-1)),t("div",Q,[M(t("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=w=>s.value.password=w),type:f.value?"text":"password",required:"",class:"backdrop-blur-sm bg-white/50 border border-white/30 w-full px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300 text-gray-900 placeholder-gray-500",placeholder:"Enter new password"},null,8,X),[[j,s.value.password]]),t("button",{type:"button",onClick:e[1]||(e[1]=w=>f.value=!f.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[f.value?(n(),r("svg",ee,e[16]||(e[16]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),r("svg",te,e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),e[19]||(e[19]=t("div",{class:"mt-2 text-sm text-gray-500"}," Password must be at least 8 characters long ",-1))]),t("div",null,[e[22]||(e[22]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-2"}," Confirm New Password ",-1)),t("div",se,[M(t("input",{id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=w=>s.value.confirmPassword=w),type:x.value?"text":"password",required:"",class:"backdrop-blur-sm bg-white/50 border border-white/30 w-full px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300 text-gray-900 placeholder-gray-500",placeholder:"Confirm new password"},null,8,oe),[[j,s.value.confirmPassword]]),t("button",{type:"button",onClick:e[3]||(e[3]=w=>x.value=!x.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[x.value?(n(),r("svg",re,e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),r("svg",le,e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),p.value?(n(),r("div",ae,k(p.value),1)):y("",!0),s.value.password?(n(),r("div",ne,[e[23]||(e[23]=t("div",{class:"text-sm text-gray-600"},"Password strength:",-1)),t("div",ie,[t("div",{class:_(["h-2 flex-1 rounded-full",v.value>=1?"bg-red-500":"bg-gray-200"])},null,2),t("div",{class:_(["h-2 flex-1 rounded-full",v.value>=2?"bg-yellow-500":"bg-gray-200"])},null,2),t("div",{class:_(["h-2 flex-1 rounded-full",v.value>=3?"bg-green-500":"bg-gray-200"])},null,2)]),t("div",de,k(z.value),1)])):y("",!0),t("div",null,[t("button",{type:"submit",disabled:c.value||!C.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300"},[c.value?(n(),r("svg",pe,e[24]||(e[24]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):y("",!0),i(" "+k(c.value?"Updating Password...":"Update Password"),1)],8,ue)])],32))])]),_:1})])])])])}}},be=R(we,[["__scopeId","data-v-bd0b1aab"]]);export{be as default};
