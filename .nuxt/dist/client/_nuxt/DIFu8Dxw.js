import{_ as C}from"./B630Z1cd.js";import{_ as S}from"./DhrbWgo5.js";import{E as N,L as B,r as n,G as M,k as V,c,a as e,m as j,b as l,w as A,u,C as F,s as L,o as d,d as R}from"./B0BgVZwo.js";import{u as E}from"./Cfpi8IIo.js";import{u as T}from"./CLRd21rY.js";import{u as $}from"./CXAG8btk.js";import"./BdfSQn7-.js";import"./DoIc1ZKu.js";const z={class:"min-h-screen bg-gray-50"},D={class:"bg-white shadow-sm border-b"},G={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},H={class:"flex items-center justify-between"},I={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},X=N({__name:"create",setup(Y){E({title:"Create Service - Dashboard"});const{createService:m,fetchCategories:v,error:f,loading:x}=T(),{currentRole:p}=$(),o=B(),i=n([]),r=n(!1),a=n(null);M(p,t=>{t==="customer"&&o.push("/dashboard")},{immediate:!0}),V(async()=>{try{i.value=await v()}catch(t){console.error("Failed to fetch categories:",t)}});const g=async t=>{try{const s=await m(t);a.value=s.service,r.value=!0}catch(s){console.error("Failed to create service:",s)}},b=()=>{o.push("/dashboard/services")},h=()=>{r.value=!1,o.push("/dashboard/services")},w=()=>{var t;(t=a.value)!=null&&t.full_slug?o.push(`/services/${a.value.full_slug}`):o.push("/dashboard/services")},_=()=>{r.value=!1,a.value=null,window.scrollTo(0,0)};return(t,s)=>{const y=C,k=S;return d(),c("div",z,[e("div",D,[e("div",G,[e("div",H,[s[2]||(s[2]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Create New Service"),e("p",{class:"mt-1 text-sm text-gray-600"}," Add a new service to your portfolio and start receiving bookings ")],-1)),l(y,{to:"/dashboard/services",class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},{default:A(()=>s[1]||(s[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),R(" Back to Services ")])),_:1,__:[1]})])])]),e("div",I,[l(k,{categories:i.value,loading:u(x),error:u(f),onSubmit:g,onCancel:b},null,8,["categories","loading","error"])]),r.value?(d(),c("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:h},[e("div",{class:"bg-white rounded-lg p-6 max-w-md mx-4",onClick:s[0]||(s[0]=L(()=>{},["stop"]))},[e("div",{class:"text-center"},[s[3]||(s[3]=F('<div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4"><svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">Service Created!</h3><p class="text-sm text-gray-600 mb-6"> Your service has been created successfully. It&#39;s now live and ready to receive bookings. </p>',3)),e("div",{class:"flex space-x-3"},[e("button",{onClick:w,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," View Service "),e("button",{onClick:_,class:"flex-1 px-4 py-2 bg-white text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Create Another ")])])])])):j("",!0)])}}});export{X as default};
