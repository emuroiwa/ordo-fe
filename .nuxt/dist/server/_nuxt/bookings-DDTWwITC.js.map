{"version":3,"file":"bookings-DDTWwITC.js","sources":["../../../../components/booking/BookingDetailsModal.vue","../../../../pages/dashboard/bookings.vue"],"sourcesContent":["<template>\n  <div class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n    <div class=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\n      <div class=\"mt-3\">\n        <!-- Header -->\n        <div class=\"flex items-center justify-between pb-4 border-b border-gray-200\">\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            Booking Details\n          </h3>\n          <button\n            @click=\"$emit('close')\"\n            class=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600\"\n          >\n            <XMarkIcon class=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <!-- Content -->\n        <div class=\"mt-6 space-y-6\">\n          <!-- Booking Info -->\n          <div class=\"bg-gray-50 rounded-lg p-4\">\n            <div class=\"flex items-center justify-between mb-4\">\n              <h4 class=\"text-lg font-medium text-gray-900\">{{ booking.service?.title }}</h4>\n              <span\n                :class=\"[\n                  'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium',\n                  getBookingStatusColor(booking.status)\n                ]\"\n              >\n                {{ formatStatus(booking.status) }}\n              </span>\n            </div>\n            \n            <div class=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span class=\"text-gray-500\">Booking Reference:</span>\n                <p class=\"font-medium\">#{{ booking.booking_reference }}</p>\n              </div>\n              <div>\n                <span class=\"text-gray-500\">Total Amount:</span>\n                <p class=\"font-medium\">R{{ booking.total_amount.toFixed(2) }}</p>\n              </div>\n              <div>\n                <span class=\"text-gray-500\">Payment Status:</span>\n                <p class=\"font-medium capitalize\">{{ booking.payment_status }}</p>\n              </div>\n              <div>\n                <span class=\"text-gray-500\">Duration:</span>\n                <p class=\"font-medium\">{{ booking.duration_minutes }} minutes</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Schedule Info -->\n          <div>\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Schedule</h4>\n            <div class=\"bg-blue-50 rounded-lg p-4\">\n              <div class=\"flex items-center space-x-3\">\n                <CalendarIcon class=\"h-5 w-5 text-blue-600\" />\n                <div>\n                  <p class=\"font-medium text-gray-900\">{{ formatDate(booking.scheduled_at) }}</p>\n                  <p class=\"text-sm text-gray-600\">{{ formatTime(booking.scheduled_at) }}</p>\n                </div>\n              </div>\n              <div class=\"mt-3 flex items-center space-x-3\">\n                <MapPinIcon class=\"h-5 w-5 text-blue-600\" />\n                <p class=\"text-sm text-gray-700\">{{ getLocationText(booking.location_type) }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Participants -->\n          <div>\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Participants</h4>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <!-- Customer -->\n              <div class=\"border rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900 mb-2\">Customer</h5>\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\">\n                    <UserIcon class=\"h-6 w-6 text-gray-600\" />\n                  </div>\n                  <div>\n                    <p class=\"font-medium\">{{ booking.customer?.name }}</p>\n                    <p class=\"text-sm text-gray-500\">{{ booking.customer?.email }}</p>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Vendor -->\n              <div class=\"border rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900 mb-2\">Service Provider</h5>\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\">\n                    <UserIcon class=\"h-6 w-6 text-gray-600\" />\n                  </div>\n                  <div>\n                    <p class=\"font-medium\">{{ booking.vendor?.name }}</p>\n                    <p class=\"text-sm text-gray-500\">{{ booking.vendor?.email }}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Service Details -->\n          <div v-if=\"booking.service\">\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Service Details</h4>\n            <div class=\"border rounded-lg p-4\">\n              <h5 class=\"font-medium text-gray-900\">{{ booking.service.title }}</h5>\n              <p class=\"text-sm text-gray-600 mt-1\">{{ booking.service.short_description }}</p>\n              <div class=\"mt-3 flex items-center space-x-4 text-sm text-gray-500\">\n                <span>Category: {{ booking.service.category?.name }}</span>\n                <span>â€¢</span>\n                <span>Price: R{{ booking.service.base_price }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Notes -->\n          <div v-if=\"booking.customer_notes || booking.vendor_notes\">\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Notes</h4>\n            <div class=\"space-y-3\">\n              <div v-if=\"booking.customer_notes\" class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                <h5 class=\"text-sm font-medium text-yellow-800\">Customer Notes</h5>\n                <p class=\"text-sm text-yellow-700 mt-1\">{{ booking.customer_notes }}</p>\n              </div>\n              <div v-if=\"booking.vendor_notes\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <h5 class=\"text-sm font-medium text-blue-800\">Provider Notes</h5>\n                <p class=\"text-sm text-blue-700 mt-1\">{{ booking.vendor_notes }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Address Information -->\n          <div v-if=\"booking.service_address\">\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Address</h4>\n            <div class=\"bg-gray-50 rounded-lg p-4\">\n              <div class=\"flex items-start space-x-3\">\n                <MapPinIcon class=\"h-5 w-5 text-gray-600 mt-0.5\" />\n                <div>\n                  <p class=\"text-sm text-gray-900\">{{ booking.service_address.address_line_1 }}</p>\n                  <p v-if=\"booking.service_address.address_line_2\" class=\"text-sm text-gray-900\">\n                    {{ booking.service_address.address_line_2 }}\n                  </p>\n                  <p class=\"text-sm text-gray-600\">\n                    {{ booking.service_address.city }}, {{ booking.service_address.province }} {{ booking.service_address.postal_code }}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Payment Information -->\n          <div>\n            <h4 class=\"text-md font-medium text-gray-900 mb-3\">Payment Information</h4>\n            <div class=\"bg-gray-50 rounded-lg p-4\">\n              <div class=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span class=\"text-gray-500\">Total Amount:</span>\n                  <p class=\"font-medium\">R{{ booking.total_amount.toFixed(2) }}</p>\n                </div>\n                <div>\n                  <span class=\"text-gray-500\">Deposit:</span>\n                  <p class=\"font-medium\">R{{ booking.deposit_amount.toFixed(2) }}</p>\n                </div>\n                <div>\n                  <span class=\"text-gray-500\">Payment Status:</span>\n                  <p :class=\"[\n                    'font-medium capitalize',\n                    booking.payment_status === 'paid' ? 'text-green-600' : \n                    booking.payment_status === 'partial' ? 'text-yellow-600' : 'text-red-600'\n                  ]\">\n                    {{ booking.payment_status }}\n                  </p>\n                </div>\n                <div>\n                  <span class=\"text-gray-500\">Currency:</span>\n                  <p class=\"font-medium\">{{ booking.currency }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Actions -->\n        <div class=\"mt-8 flex items-center justify-between pt-4 border-t border-gray-200\">\n          <div class=\"text-xs text-gray-500\">\n            Created: {{ formatDate(booking.created_at) }}\n          </div>\n          \n          <div class=\"flex space-x-3\">\n            <!-- Customer Actions -->\n            <template v-if=\"userRole === 'customer'\">\n              <button\n                v-if=\"canReschedule\"\n                @click=\"$emit('action', 'reschedule', booking)\"\n                class=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <ClockIcon class=\"w-4 h-4 mr-2\" />\n                Reschedule\n              </button>\n              \n              <button\n                v-if=\"canCancel\"\n                @click=\"$emit('action', 'cancel', booking)\"\n                class=\"inline-flex items-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n              >\n                <XMarkIcon class=\"w-4 h-4 mr-2\" />\n                Cancel Booking\n              </button>\n            </template>\n\n            <!-- Vendor Actions -->\n            <template v-if=\"userRole === 'vendor'\">\n              <button\n                v-if=\"booking.status === 'pending'\"\n                @click=\"$emit('action', 'confirm', booking)\"\n                class=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n              >\n                <CheckCircleIcon class=\"w-4 h-4 mr-2\" />\n                Confirm\n              </button>\n              \n              <button\n                v-if=\"booking.status === 'confirmed'\"\n                @click=\"$emit('action', 'start', booking)\"\n                class=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <PlayIcon class=\"w-4 h-4 mr-2\" />\n                Start Service\n              </button>\n              \n              <button\n                v-if=\"booking.status === 'in_progress'\"\n                @click=\"$emit('action', 'complete', booking)\"\n                class=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\"\n              >\n                <CheckIcon class=\"w-4 h-4 mr-2\" />\n                Complete\n              </button>\n              \n              <button\n                v-if=\"canCancel\"\n                @click=\"$emit('action', 'cancel', booking)\"\n                class=\"inline-flex items-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n              >\n                <XMarkIcon class=\"w-4 h-4 mr-2\" />\n                Cancel\n              </button>\n            </template>\n\n            <button\n              @click=\"$emit('close')\"\n              class=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport {\n  XMarkIcon,\n  CalendarIcon,\n  MapPinIcon,\n  UserIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  CheckIcon,\n  PlayIcon\n} from '@heroicons/vue/24/outline'\n\nconst props = defineProps<{\n  booking: any\n  userRole: 'customer' | 'vendor'\n}>()\n\ndefineEmits<{\n  close: []\n  action: [action: string, booking: any]\n}>()\n\nconst canCancel = computed(() => {\n  return props.booking.status !== 'cancelled' && \n         props.booking.status !== 'completed' &&\n         new Date(props.booking.scheduled_at) > new Date()\n})\n\nconst canReschedule = computed(() => {\n  return (props.booking.status === 'pending' || props.booking.status === 'confirmed') &&\n         new Date(props.booking.scheduled_at) > new Date(Date.now() + 24 * 60 * 60 * 1000) // 24 hours\n})\n\nconst getLocationText = (locationType: string) => {\n  const locationMap = {\n    'vendor_location': 'Provider Location',\n    'customer_location': 'Customer Location',\n    'online': 'Online'\n  }\n  return locationMap[locationType] || locationType\n}\n\nconst getBookingStatusColor = (status: string) => {\n  const statusColors = {\n    pending: 'bg-yellow-100 text-yellow-800',\n    confirmed: 'bg-blue-100 text-blue-800',\n    in_progress: 'bg-green-100 text-green-800',\n    completed: 'bg-gray-100 text-gray-800',\n    cancelled: 'bg-red-100 text-red-800'\n  }\n  return statusColors[status] || 'bg-gray-100 text-gray-800'\n}\n\nconst formatStatus = (status: string) => {\n  return status.charAt(0).toUpperCase() + status.slice(1).replace('_', ' ')\n}\n\nconst formatDate = (dateString: string) => {\n  return new Date(dateString).toLocaleDateString('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  })\n}\n\nconst formatTime = (dateString: string) => {\n  return new Date(dateString).toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true\n  })\n}\n</script>","<template>\n  <NuxtLayout name=\"dashboard\">\n    <div>\n    <!-- Role Toggle (if user has both roles) -->\n    <div v-if=\"hasMultipleRoles\" class=\"mb-6 flex items-center justify-end\">\n      <div class=\"flex items-center space-x-2\">\n        <span class=\"text-sm text-gray-500\">View as:</span>\n        <div class=\"bg-gray-100 p-1 rounded-lg flex\">\n          <button\n            @click=\"setRole('customer')\"\n            :class=\"[\n              'px-3 py-1 text-sm font-medium rounded-md transition-colors',\n              userRole === 'customer' \n                ? 'bg-white text-blue-600 shadow-sm' \n                : 'text-gray-600 hover:text-gray-900'\n            ]\"\n          >\n            Customer\n          </button>\n          <button\n            @click=\"setRole('vendor')\"\n            :class=\"[\n              'px-3 py-1 text-sm font-medium rounded-md transition-colors',\n              userRole === 'vendor' \n                ? 'bg-white text-blue-600 shadow-sm' \n                : 'text-gray-600 hover:text-gray-900'\n            ]\"\n          >\n            Provider\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Stats Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <div class=\"flex items-center\">\n          <div class=\"p-2 bg-blue-100 rounded-lg\">\n            <CalendarIcon class=\"w-6 h-6 text-blue-600\" />\n          </div>\n          <div class=\"ml-4\">\n            <p class=\"text-sm font-medium text-gray-500\">Total Bookings</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{{ stats.total }}</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <div class=\"flex items-center\">\n          <div class=\"p-2 bg-yellow-100 rounded-lg\">\n            <ClockIcon class=\"w-6 h-6 text-yellow-600\" />\n          </div>\n          <div class=\"ml-4\">\n            <p class=\"text-sm font-medium text-gray-500\">Pending</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{{ stats.pending }}</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <div class=\"flex items-center\">\n          <div class=\"p-2 bg-green-100 rounded-lg\">\n            <CheckCircleIcon class=\"w-6 h-6 text-green-600\" />\n          </div>\n          <div class=\"ml-4\">\n            <p class=\"text-sm font-medium text-gray-500\">Completed</p>\n            <p class=\"text-2xl font-bold text-gray-900\">{{ stats.completed }}</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <div class=\"flex items-center\">\n          <div class=\"p-2 bg-purple-100 rounded-lg\">\n            <CurrencyDollarIcon class=\"w-6 h-6 text-purple-600\" />\n          </div>\n          <div class=\"ml-4\">\n            <p class=\"text-sm font-medium text-gray-500\">\n              {{ userRole === 'vendor' ? 'Revenue' : 'Spent' }}\n            </p>\n            <p class=\"text-2xl font-bold text-gray-900\">R{{ stats.revenue }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"bg-white rounded-lg shadow p-6 mb-8\">\n      <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\">\n        <div class=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4\">\n          <!-- Status Filter -->\n          <select\n            v-model=\"selectedStatus\"\n            @change=\"filterBookings\"\n            class=\"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"confirmed\">Confirmed</option>\n            <option value=\"in_progress\">In Progress</option>\n            <option value=\"completed\">Completed</option>\n            <option value=\"cancelled\">Cancelled</option>\n          </select>\n\n          <!-- Date Filter -->\n          <select\n            v-model=\"selectedTimeframe\"\n            @change=\"filterBookings\"\n            class=\"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"all\">All Time</option>\n            <option value=\"today\">Today</option>\n            <option value=\"week\">This Week</option>\n            <option value=\"month\">This Month</option>\n            <option value=\"upcoming\">Upcoming</option>\n          </select>\n        </div>\n\n        <!-- Search -->\n        <div class=\"relative\">\n          <input\n            v-model=\"searchQuery\"\n            @input=\"filterBookings\"\n            type=\"text\"\n            placeholder=\"Search bookings...\"\n            class=\"block w-full sm:w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n          >\n          <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <MagnifyingGlassIcon class=\"h-5 w-5 text-gray-400\" />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\n      <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <!-- Empty State -->\n    <div v-else-if=\"filteredBookings.length === 0\" class=\"text-center py-12\">\n      <CalendarIcon class=\"mx-auto h-12 w-12 text-gray-400\" />\n      <h3 class=\"mt-2 text-sm font-medium text-gray-900\">No bookings found</h3>\n      <p class=\"mt-1 text-sm text-gray-500\">\n        {{ userRole === 'vendor' \n          ? 'Your services haven\\'t been booked yet.' \n          : 'You haven\\'t made any bookings yet.' \n        }}\n      </p>\n      <div class=\"mt-6\">\n        <NuxtLink\n          :to=\"userRole === 'vendor' ? '/dashboard/services' : '/search'\"\n          class=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          {{ userRole === 'vendor' ? 'Create Service' : 'Browse Services' }}\n        </NuxtLink>\n      </div>\n    </div>\n\n    <!-- Bookings List -->\n    <div v-else class=\"space-y-4\">\n        <div\n          v-for=\"booking in filteredBookings\"\n          :key=\"booking.id\"\n          class=\"bg-white rounded-lg shadow hover:shadow-md transition-shadow duration-200\"\n        >\n          <div class=\"p-6\">\n            <div class=\"flex items-start justify-between\">\n              <div class=\"flex-1\">\n                <!-- Booking Header -->\n                <div class=\"flex items-center justify-between mb-4\">\n                  <div class=\"flex items-center space-x-3\">\n                    <h3 class=\"text-lg font-medium text-gray-900\">\n                      {{ booking.service?.title || 'Service' }}\n                    </h3>\n                    <span\n                      :class=\"[\n                        'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium',\n                        getBookingStatus(booking).color\n                      ]\"\n                    >\n                      {{ getBookingStatus(booking).text }}\n                    </span>\n                  </div>\n                  <div class=\"text-right\">\n                    <p class=\"text-sm text-gray-500\">Booking #{{ booking.booking_reference }}</p>\n                    <p class=\"text-lg font-semibold text-gray-900\">\n                      R{{ booking.total_amount.toFixed(2) }}\n                    </p>\n                  </div>\n                </div>\n\n                <!-- Booking Details -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\n                  <div>\n                    <p class=\"text-sm text-gray-500\">\n                      {{ userRole === 'vendor' ? 'Customer' : 'Provider' }}\n                    </p>\n                    <p class=\"text-sm font-medium text-gray-900\">\n                      {{ userRole === 'vendor' ? booking.customer?.name : booking.vendor?.name }}\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <p class=\"text-sm text-gray-500\">Date & Time</p>\n                    <p class=\"text-sm font-medium text-gray-900\">\n                      {{ formatBookingTime(booking.scheduled_at).date }}\n                    </p>\n                    <p class=\"text-sm text-gray-600\">\n                      {{ formatBookingTime(booking.scheduled_at).time }}\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <p class=\"text-sm text-gray-500\">Duration</p>\n                    <p class=\"text-sm font-medium text-gray-900\">\n                      {{ booking.duration_minutes }} minutes\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <p class=\"text-sm text-gray-500\">Location</p>\n                    <p class=\"text-sm font-medium text-gray-900\">\n                      {{ getLocationText(booking.location_type) }}\n                    </p>\n                  </div>\n                </div>\n\n                <!-- Notes -->\n                <div v-if=\"booking.customer_notes || booking.vendor_notes\" class=\"mb-4\">\n                  <div v-if=\"booking.customer_notes\" class=\"mb-2\">\n                    <p class=\"text-sm text-gray-500\">Customer Notes:</p>\n                    <p class=\"text-sm text-gray-700\">{{ booking.customer_notes }}</p>\n                  </div>\n                  <div v-if=\"booking.vendor_notes\">\n                    <p class=\"text-sm text-gray-500\">Provider Notes:</p>\n                    <p class=\"text-sm text-gray-700\">{{ booking.vendor_notes }}</p>\n                  </div>\n                </div>\n\n                <!-- Actions -->\n                <div class=\"flex flex-wrap items-center gap-2\">\n                  <!-- Customer Actions -->\n                  <template v-if=\"userRole === 'customer'\">\n                    <button\n                      v-if=\"canRescheduleBooking(booking)\"\n                      @click=\"handleReschedule(booking)\"\n                      class=\"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      <ClockIcon class=\"w-4 h-4 mr-1\" />\n                      Reschedule\n                    </button>\n                    \n                    <button\n                      v-if=\"canCancelBooking(booking)\"\n                      @click=\"handleCancel(booking)\"\n                      class=\"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                    >\n                      <XMarkIcon class=\"w-4 h-4 mr-1\" />\n                      Cancel\n                    </button>\n                  </template>\n\n                  <!-- Vendor Actions -->\n                  <template v-if=\"userRole === 'vendor'\">\n                    <button\n                      v-if=\"booking.status === 'pending'\"\n                      @click=\"handleConfirm(booking)\"\n                      class=\"inline-flex items-center px-3 py-1.5 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                    >\n                      <CheckCircleIcon class=\"w-4 h-4 mr-1\" />\n                      Confirm\n                    </button>\n                    \n                    <button\n                      v-if=\"booking.status === 'confirmed'\"\n                      @click=\"handleStartService(booking)\"\n                      class=\"inline-flex items-center px-3 py-1.5 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      <PlayIcon class=\"w-4 h-4 mr-1\" />\n                      Start Service\n                    </button>\n                    \n                    <button\n                      v-if=\"booking.status === 'in_progress'\"\n                      @click=\"handleComplete(booking)\"\n                      class=\"inline-flex items-center px-3 py-1.5 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\"\n                    >\n                      <CheckIcon class=\"w-4 h-4 mr-1\" />\n                      Complete\n                    </button>\n                    \n                    <button\n                      v-if=\"canCancelBooking(booking)\"\n                      @click=\"handleCancel(booking)\"\n                      class=\"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                    >\n                      <XMarkIcon class=\"w-4 h-4 mr-1\" />\n                      Cancel\n                    </button>\n                  </template>\n\n                  <!-- View Details -->\n                  <button\n                    @click=\"viewBookingDetails(booking)\"\n                    class=\"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <EyeIcon class=\"w-4 h-4 mr-1\" />\n                    View Details\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    </div>\n\n    <!-- Pagination -->\n    <div v-if=\"pagination.total > pagination.per_page\" class=\"mt-8\">\n      <nav class=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-lg shadow\">\n        <div class=\"hidden sm:block\">\n          <p class=\"text-sm text-gray-700\">\n            Showing\n            <span class=\"font-medium\">{{ pagination.from }}</span>\n            to\n            <span class=\"font-medium\">{{ pagination.to }}</span>\n            of\n            <span class=\"font-medium\">{{ pagination.total }}</span>\n            results\n          </p>\n        </div>\n        <div class=\"flex-1 flex justify-between sm:justify-end\">\n          <button\n            @click=\"previousPage\"\n            :disabled=\"pagination.current_page <= 1\"\n            class=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Previous\n          </button>\n          <button\n            @click=\"nextPage\"\n            :disabled=\"pagination.current_page >= pagination.last_page\"\n            class=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Next\n          </button>\n        </div>\n      </nav>\n    </div>\n\n    <!-- Modals -->\n    <BookingDetailsModal\n      v-if=\"selectedBooking\"\n      :booking=\"selectedBooking\"\n      :user-role=\"userRole\"\n      @close=\"selectedBooking = null\"\n      @action=\"handleBookingAction\"\n    />\n\n    <RescheduleModal\n      v-if=\"rescheduleBooking\"\n      :booking=\"rescheduleBooking\"\n      @close=\"rescheduleBooking = null\"\n      @reschedule=\"handleRescheduleConfirm\"\n    />\n\n    <CancelModal\n      v-if=\"cancelBooking\"\n      :booking=\"cancelBooking\"\n      :user-role=\"userRole\"\n      @close=\"cancelBooking = null\"\n      @cancel=\"handleCancelConfirm\"\n    />\n    </div>\n  </NuxtLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, watch } from 'vue'\nimport {\n  CalendarIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  CurrencyDollarIcon,\n  MagnifyingGlassIcon,\n  EyeIcon,\n  XMarkIcon,\n  CheckIcon,\n  PlayIcon\n} from '@heroicons/vue/24/outline'\n\n// Composables\nconst { user } = useAuth()\nconst { currentRole, setRole, hasMultipleRoles: hasMultipleRolesFn, initializeRole } = useRole()\nconst {\n  bookings,\n  loading,\n  error,\n  fetchBookings,\n  confirmBooking,\n  markInProgress,\n  completeBooking,\n  cancelBooking: cancelBookingAction,\n  rescheduleBooking: rescheduleBookingAction,\n  getBookingStatus,\n  formatBookingTime,\n  canCancelBooking,\n  canRescheduleBooking\n} = useBooking()\n\n// Page meta\ndefinePageMeta({\n  middleware: 'auth'\n})\n\n// Page head\nuseHead({\n  title: 'Bookings - ORDO Dashboard',\n  meta: [\n    { name: 'description', content: 'Manage your service bookings and appointments' }\n  ]\n})\n\n// Reactive state\nconst selectedStatus = ref('')\nconst selectedTimeframe = ref('all')\nconst searchQuery = ref('')\nconst currentPage = ref(1)\nconst selectedBooking = ref(null)\nconst rescheduleBooking = ref(null)\nconst cancelBooking = ref(null)\n\n// Determine user role based on user data and role toggle\nconst userRole = computed(() => {\n  if (!user.value) return 'customer'\n  \n  // Check if user has both roles\n  const userRoles = user.value.roles || ['customer']\n  if (userRoles.includes('vendor') && userRoles.includes('customer')) {\n    return currentRole.value\n  }\n  \n  // Single role user\n  return userRoles.includes('vendor') ? 'vendor' : 'customer'\n})\n\nconst hasMultipleRoles = computed(() => {\n  return hasMultipleRolesFn.value\n})\n\n// Filter and search bookings\nconst filteredBookings = computed(() => {\n  let filtered = [...bookings.value]\n\n  // Status filter\n  if (selectedStatus.value) {\n    filtered = filtered.filter(booking => booking.status === selectedStatus.value)\n  }\n\n  // Timeframe filter\n  if (selectedTimeframe.value !== 'all') {\n    const now = new Date()\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n    \n    filtered = filtered.filter(booking => {\n      const bookingDate = new Date(booking.scheduled_at)\n      \n      switch (selectedTimeframe.value) {\n        case 'today':\n          return bookingDate >= today && bookingDate < new Date(today.getTime() + 24 * 60 * 60 * 1000)\n        case 'week':\n          const weekStart = new Date(today.getTime() - today.getDay() * 24 * 60 * 60 * 1000)\n          const weekEnd = new Date(weekStart.getTime() + 7 * 24 * 60 * 60 * 1000)\n          return bookingDate >= weekStart && bookingDate < weekEnd\n        case 'month':\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1)\n          const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 1)\n          return bookingDate >= monthStart && bookingDate < monthEnd\n        case 'upcoming':\n          return bookingDate >= now\n        default:\n          return true\n      }\n    })\n  }\n\n  // Search filter\n  if (searchQuery.value) {\n    const query = searchQuery.value.toLowerCase()\n    filtered = filtered.filter(booking => {\n      return (\n        booking.booking_reference.toLowerCase().includes(query) ||\n        booking.service?.title?.toLowerCase().includes(query) ||\n        (userRole.value === 'vendor' ? booking.customer?.name : booking.vendor?.name)?.toLowerCase().includes(query)\n      )\n    })\n  }\n\n  return filtered\n})\n\n// Stats computation\nconst stats = computed(() => {\n  const total = bookings.value.length\n  const pending = bookings.value.filter(b => b.status === 'pending').length\n  const completed = bookings.value.filter(b => b.status === 'completed').length\n  const revenue = bookings.value\n    .filter(b => b.status === 'completed')\n    .reduce((sum, b) => sum + b.total_amount, 0)\n\n  return { total, pending, completed, revenue: revenue.toFixed(2) }\n})\n\n// Pagination\nconst pagination = computed(() => {\n  const total = filteredBookings.value.length\n  const perPage = 10\n  const totalPages = Math.ceil(total / perPage)\n  const start = (currentPage.value - 1) * perPage\n  const end = start + perPage\n\n  return {\n    current_page: currentPage.value,\n    last_page: totalPages,\n    per_page: perPage,\n    total,\n    from: start + 1,\n    to: Math.min(end, total)\n  }\n})\n\n// Methods\nconst filterBookings = async () => {\n  currentPage.value = 1\n  await loadBookings()\n}\n\nconst loadBookings = async () => {\n  try {\n    const filters = {\n      type: userRole.value,\n      per_page: 50 // Load more for client-side filtering\n    }\n    \n    if (selectedStatus.value) {\n      filters.status = selectedStatus.value\n    }\n\n    await fetchBookings(filters)\n  } catch (err) {\n    console.error('Failed to load bookings:', err)\n  }\n}\n\nconst getLocationText = (locationType: string) => {\n  const locationMap = {\n    'vendor_location': 'Provider Location',\n    'customer_location': 'Customer Location',\n    'online': 'Online'\n  }\n  return locationMap[locationType] || locationType\n}\n\nconst viewBookingDetails = (booking) => {\n  selectedBooking.value = booking\n}\n\nconst handleReschedule = (booking) => {\n  rescheduleBooking.value = booking\n}\n\nconst handleCancel = (booking) => {\n  cancelBooking.value = booking\n}\n\nconst handleConfirm = async (booking) => {\n  try {\n    await confirmBooking(booking.id)\n    await loadBookings()\n  } catch (err) {\n    console.error('Failed to confirm booking:', err)\n  }\n}\n\nconst handleStartService = async (booking) => {\n  try {\n    await markInProgress(booking.id)\n    await loadBookings()\n  } catch (err) {\n    console.error('Failed to start service:', err)\n  }\n}\n\nconst handleComplete = async (booking) => {\n  try {\n    await completeBooking(booking.id)\n    await loadBookings()\n  } catch (err) {\n    console.error('Failed to complete booking:', err)\n  }\n}\n\nconst handleRescheduleConfirm = async (booking, newDateTime) => {\n  try {\n    await rescheduleBookingAction(booking.id, newDateTime)\n    rescheduleBooking.value = null\n    await loadBookings()\n  } catch (err) {\n    console.error('Failed to reschedule booking:', err)\n  }\n}\n\nconst handleCancelConfirm = async (booking, reason) => {\n  // The CancelModal now handles the API call directly\n  // This function is called on success, so we just need to clean up\n  cancelBooking.value = null\n  await loadBookings()\n  console.log('Booking cancelled successfully')\n}\n\nconst handleBookingAction = async (action, booking) => {\n  switch (action) {\n    case 'confirm':\n      await handleConfirm(booking)\n      break\n    case 'start':\n      await handleStartService(booking)\n      break\n    case 'complete':\n      await handleComplete(booking)\n      break\n    case 'cancel':\n      handleCancel(booking)\n      break\n    case 'reschedule':\n      handleReschedule(booking)\n      break\n  }\n  selectedBooking.value = null\n}\n\nconst previousPage = () => {\n  if (currentPage.value > 1) {\n    currentPage.value--\n  }\n}\n\nconst nextPage = () => {\n  if (currentPage.value < pagination.value.last_page) {\n    currentPage.value++\n  }\n}\n\n// Watch for role changes\nwatch(userRole, () => {\n  loadBookings()\n})\n\n// Initial load\nonMounted(() => {\n  initializeRole()\n  loadBookings()\n})\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","booking","userRole","_push","_parent","_ssrInterpolate","_","_scopeId","_ssrRenderList","_ssrIncludeBooleanAttr","_createVNode","_createBlock","_toDisplayString","_Fragment","_renderList"],"mappings":"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"}