{"version":3,"file":"book-7UvIQUTY.js","sources":["../../../../pages/services/[...slug]/book.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"flex items-center justify-center min-h-screen\">\n      <div class=\"text-center\">\n        <svg class=\"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n        <p class=\"text-gray-600\">Loading booking calendar...</p>\n      </div>\n    </div>\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"flex items-center justify-center min-h-screen\">\n      <div class=\"text-center max-w-md mx-4\">\n        <div class=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\n          <svg class=\"h-6 w-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n          </svg>\n        </div>\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Service Not Found</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">{{ error }}</p>\n        <NuxtLink\n          to=\"/services\"\n          class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          Browse Services\n        </NuxtLink>\n      </div>\n    </div>\n\n    <!-- Booking Calendar -->\n    <div v-else-if=\"service\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <!-- Header -->\n      <div class=\"mb-8\">\n        <!-- Breadcrumb -->\n        <nav class=\"flex mb-4 text-sm\" aria-label=\"Breadcrumb\">\n          <ol class=\"inline-flex items-center space-x-1 md:space-x-3\">\n            <li class=\"inline-flex items-center\">\n              <NuxtLink to=\"/\" class=\"text-gray-500 hover:text-gray-700\">Home</NuxtLink>\n            </li>\n            <li>\n              <div class=\"flex items-center\">\n                <svg class=\"w-4 h-4 text-gray-400 mx-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                <NuxtLink to=\"/services\" class=\"text-gray-500 hover:text-gray-700\">Services</NuxtLink>\n              </div>\n            </li>\n            <li>\n              <div class=\"flex items-center\">\n                <svg class=\"w-4 h-4 text-gray-400 mx-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                <NuxtLink :to=\"`/services/${fullSlug}`\" class=\"text-gray-500 hover:text-gray-700\">{{ service.title }}</NuxtLink>\n              </div>\n            </li>\n            <li>\n              <div class=\"flex items-center\">\n                <svg class=\"w-4 h-4 text-gray-400 mx-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                <span class=\"text-gray-900 font-medium\">Book Appointment</span>\n              </div>\n            </li>\n          </ol>\n        </nav>\n\n        <!-- Service Info -->\n        <div class=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n          <div class=\"flex items-start space-x-4\">\n            <div class=\"flex-shrink-0\">\n              <img \n                v-if=\"service.primary_image\"\n                :src=\"service.primary_image.url\" \n                :alt=\"service.title\"\n                class=\"w-16 h-16 rounded-lg object-cover\"\n              >\n              <div v-else class=\"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center\">\n                <svg class=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n            <div class=\"flex-1 min-w-0\">\n              <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">{{ service.title }}</h1>\n              <p class=\"text-gray-600 mb-2\">{{ service.short_description }}</p>\n              <div class=\"flex items-center space-x-4 text-sm text-gray-500\">\n                <span>{{ service.formatted_price }}</span>\n                <span>{{ service.duration_minutes }} minutes</span>\n                <span>{{ service.location_display }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Calendar Section -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <!-- Calendar -->\n        <div class=\"lg:col-span-2\">\n          <div class=\"bg-white rounded-lg shadow-sm\">\n            <!-- Calendar Header -->\n            <div class=\"p-6 border-b border-gray-200\">\n              <div class=\"flex items-center justify-between\">\n                <h2 class=\"text-lg font-semibold text-gray-900\">Select Date & Time</h2>\n                <div class=\"flex space-x-1 bg-gray-100 rounded-lg p-1\">\n                  <button\n                    @click=\"calendarView = 'week'\"\n                    :class=\"[\n                      'px-3 py-1 text-sm font-medium rounded-md transition-colors',\n                      calendarView === 'week' \n                        ? 'bg-white text-gray-900 shadow-sm' \n                        : 'text-gray-600 hover:text-gray-900'\n                    ]\"\n                  >\n                    Week\n                  </button>\n                  <button\n                    @click=\"calendarView = 'month'\"\n                    :class=\"[\n                      'px-3 py-1 text-sm font-medium rounded-md transition-colors',\n                      calendarView === 'month' \n                        ? 'bg-white text-gray-900 shadow-sm' \n                        : 'text-gray-600 hover:text-gray-900'\n                    ]\"\n                  >\n                    Month\n                  </button>\n                  <button\n                    @click=\"calendarView = 'day'\"\n                    :class=\"[\n                      'px-3 py-1 text-sm font-medium rounded-md transition-colors',\n                      calendarView === 'day' \n                        ? 'bg-white text-gray-900 shadow-sm' \n                        : 'text-gray-600 hover:text-gray-900'\n                    ]\"\n                  >\n                    Day\n                  </button>\n                </div>\n              </div>\n              \n              <!-- Navigation -->\n              <div class=\"flex items-center justify-between mt-4\">\n                <button\n                  @click=\"previousPeriod\"\n                  class=\"p-2 hover:bg-gray-100 rounded-md transition-colors\"\n                >\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                  </svg>\n                </button>\n                <h3 class=\"text-lg font-medium text-gray-900\">{{ currentPeriodLabel }}</h3>\n                <button\n                  @click=\"nextPeriod\"\n                  class=\"p-2 hover:bg-gray-100 rounded-md transition-colors\"\n                >\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            <!-- Calendar Content -->\n            <div class=\"p-6\">\n              <!-- Week View -->\n              <div v-if=\"calendarView === 'week'\" class=\"space-y-4\">\n                <div v-for=\"day in weekDays\" :key=\"day.date\" class=\"border-b border-gray-100 pb-4 last:border-b-0\">\n                  <div class=\"flex items-center justify-between mb-3\">\n                    <div class=\"flex items-center space-x-3\">\n                      <div class=\"text-lg font-semibold text-gray-900\">{{ day.dayName }}</div>\n                      <div class=\"text-sm text-gray-500\">{{ day.formatted }}</div>\n                    </div>\n                    <div v-if=\"!day.hasSlots\" class=\"text-sm text-gray-400\">No availability</div>\n                  </div>\n                  <div v-if=\"day.hasSlots\" class=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2\">\n                    <button\n                      v-for=\"slot in day.slots\"\n                      :key=\"slot.time\"\n                      @click=\"selectTimeSlot(slot)\"\n                      :class=\"[\n                        'px-3 py-2 text-sm font-medium rounded-md border transition-colors',\n                        selectedSlot?.id === slot.id\n                          ? 'bg-blue-600 text-white border-blue-600'\n                          : 'bg-white text-gray-700 border-gray-300 hover:bg-blue-50 hover:border-blue-300'\n                      ]\"\n                    >\n                      {{ slot.time }}\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Month View -->\n              <div v-else-if=\"calendarView === 'month'\" class=\"grid grid-cols-7 gap-1\">\n                <!-- Month calendar implementation -->\n                <div class=\"text-center text-sm font-medium text-gray-500 py-2\" v-for=\"day in ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\" :key=\"day\">\n                  {{ day }}\n                </div>\n                <!-- Calendar days would go here -->\n                <div class=\"text-center text-sm text-gray-600 p-2\">Month view coming soon...</div>\n              </div>\n\n              <!-- Day View -->\n              <div v-else-if=\"calendarView === 'day'\" class=\"space-y-2\">\n                <!-- Day view implementation -->\n                <div class=\"text-center text-sm text-gray-600 p-8\">Day view coming soon...</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Booking Summary -->\n        <div class=\"lg:col-span-1\">\n          <div class=\"bg-white rounded-lg shadow-sm p-6 sticky top-8\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Booking Summary</h3>\n            \n            <!-- Service Details -->\n            <div class=\"space-y-3 mb-6\">\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Service</span>\n                <span class=\"font-medium\">{{ service.title }}</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Duration</span>\n                <span class=\"font-medium\">{{ service.duration_minutes }} min</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Price</span>\n                <span class=\"font-medium\">{{ service.formatted_price }}</span>\n              </div>\n            </div>\n\n            <!-- Selected Time -->\n            <div v-if=\"selectedSlot\" class=\"border-t border-gray-200 pt-4 mb-6\">\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Date & Time</span>\n                <div class=\"text-right\">\n                  <div class=\"font-medium\">{{ selectedSlot.date }}</div>\n                  <div class=\"text-sm text-gray-500\">{{ selectedSlot.time }}</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Guest Form or Continue Button -->\n            <div v-if=\"selectedSlot\">\n              <!-- Show form for non-authenticated users -->\n              <div v-if=\"!isAuthenticated\" class=\"space-y-4 mb-6\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Email Address</label>\n                  <input\n                    v-model=\"guestInfo.email\"\n                    type=\"email\"\n                    required\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"your@email.com\"\n                  >\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Phone Number</label>\n                  <input\n                    v-model=\"guestInfo.phone\"\n                    type=\"tel\"\n                    required\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"+27 xxx xxx xxxx\"\n                  >\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\n                  <input\n                    v-model=\"guestInfo.name\"\n                    type=\"text\"\n                    required\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"John Doe\"\n                  >\n                </div>\n              </div>\n\n              <!-- Continue Button -->\n              <button\n                @click=\"proceedToPayment\"\n                :disabled=\"!canProceed || isProcessing\"\n                class=\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center\"\n              >\n                <svg v-if=\"isProcessing\" class=\"animate-spin h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                {{ isProcessing ? 'Processing...' : 'Continue to Payment' }}\n              </button>\n            </div>\n            \n            <div v-else class=\"text-center text-gray-500 text-sm\">\n              Select a time slot to continue\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n// Meta\ndefinePageMeta({\n  layout: 'default'\n})\n\n// Composables\nconst { fetchService, service, loading, error } = useServices()\nconst { isAuthenticated } = useAuth()\nconst { createBooking } = useBooking()\nconst route = useRoute()\nconst router = useRouter()\n\n// State\nconst calendarView = ref('week')\nconst currentDate = ref(new Date())\nconst selectedSlot = ref(null)\nconst isProcessing = ref(false)\nconst guestInfo = ref({\n  email: '',\n  phone: '',\n  name: ''\n})\n\n// Mock availability data (replace with real API call)\nconst availabilitySlots = ref([\n  // Sample data structure\n  { id: 1, date: '2025-07-21', time: '09:00', available: true },\n  { id: 2, date: '2025-07-21', time: '10:00', available: true },\n  { id: 3, date: '2025-07-21', time: '11:00', available: true },\n  { id: 4, date: '2025-07-22', time: '09:00', available: true },\n  { id: 5, date: '2025-07-22', time: '14:00', available: true },\n  { id: 6, date: '2025-07-22', time: '15:00', available: true },\n])\n\n// Computed\nconst fullSlug = computed(() => {\n  const slugArray = route.params.slug as string[]\n  return slugArray.slice(0, -1).join('/') // Remove 'book' from the end\n})\n\nconst currentPeriodLabel = computed(() => {\n  if (calendarView.value === 'week') {\n    const start = getWeekStart(currentDate.value)\n    const end = new Date(start)\n    end.setDate(start.getDate() + 6)\n    return `${start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - ${end.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}`\n  } else if (calendarView.value === 'month') {\n    return currentDate.value.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })\n  } else {\n    return currentDate.value.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' })\n  }\n})\n\nconst weekDays = computed(() => {\n  const start = getWeekStart(currentDate.value)\n  const days = []\n  \n  for (let i = 0; i < 7; i++) {\n    const date = new Date(start)\n    date.setDate(start.getDate() + i)\n    const dateStr = date.toISOString().split('T')[0]\n    \n    const daySlots = availabilitySlots.value.filter(slot => slot.date === dateStr && slot.available)\n    \n    days.push({\n      date: dateStr,\n      dayName: date.toLocaleDateString('en-US', { weekday: 'long' }),\n      formatted: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n      slots: daySlots,\n      hasSlots: daySlots.length > 0\n    })\n  }\n  \n  return days\n})\n\nconst canProceed = computed(() => {\n  if (!selectedSlot.value) return false\n  \n  if (!isAuthenticated.value) {\n    return guestInfo.value.email && guestInfo.value.phone && guestInfo.value.name\n  }\n  \n  return true\n})\n\n// Methods\nconst getWeekStart = (date: Date) => {\n  const d = new Date(date)\n  const day = d.getDay()\n  const diff = d.getDate() - day\n  return new Date(d.setDate(diff))\n}\n\nconst previousPeriod = () => {\n  const newDate = new Date(currentDate.value)\n  if (calendarView.value === 'week') {\n    newDate.setDate(newDate.getDate() - 7)\n  } else if (calendarView.value === 'month') {\n    newDate.setMonth(newDate.getMonth() - 1)\n  } else {\n    newDate.setDate(newDate.getDate() - 1)\n  }\n  currentDate.value = newDate\n}\n\nconst nextPeriod = () => {\n  const newDate = new Date(currentDate.value)\n  if (calendarView.value === 'week') {\n    newDate.setDate(newDate.getDate() + 7)\n  } else if (calendarView.value === 'month') {\n    newDate.setMonth(newDate.getMonth() + 1)\n  } else {\n    newDate.setDate(newDate.getDate() + 1)\n  }\n  currentDate.value = newDate\n}\n\nconst selectTimeSlot = (slot: any) => {\n  selectedSlot.value = slot\n}\n\nconst proceedToPayment = async () => {\n  if (!canProceed.value || !selectedSlot.value) return\n  \n  isProcessing.value = true\n  \n  try {\n    // Prepare booking data\n    const bookingData = {\n      service_id: service.value.id,\n      scheduled_at: `${selectedSlot.value.date}T${selectedSlot.value.time}:00`,\n      duration_minutes: service.value.duration_minutes,\n      location_type: service.value.location_type,\n      // Add guest info if not authenticated\n      ...(isAuthenticated.value ? {} : {\n        guest_email: guestInfo.value.email,\n        guest_phone: guestInfo.value.phone,\n        guest_name: guestInfo.value.name\n      })\n    }\n    \n    // Create booking\n    const booking = await createBooking(bookingData)\n    \n    // Redirect to payment page\n    await router.push(`/booking/payment/${booking.id}`)\n    \n  } catch (err) {\n    console.error('Failed to create booking:', err)\n    // Handle error (show toast, etc.)\n  } finally {\n    isProcessing.value = false\n  }\n}\n\n// Head\nuseHead({\n  title: computed(() => service.value ? `Book ${service.value.title} - ORDO` : 'Book Service - ORDO'),\n  meta: [\n    {\n      name: 'description',\n      content: computed(() => `Book ${service.value?.title || 'service'} appointment online. Select your preferred date and time.`)\n    }\n  ]\n})\n\n// Fetch service on mount\nonMounted(async () => {\n  try {\n    await fetchService(fullSlug.value)\n  } catch (err) {\n    console.error('Failed to fetch service:', err)\n  }\n})\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_push","_parent","_ssrInterpolate","_createTextVNode","_toDisplayString","_ssrRenderAttr","_ssrRenderList","_ssrIncludeBooleanAttr"],"mappings":"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"}