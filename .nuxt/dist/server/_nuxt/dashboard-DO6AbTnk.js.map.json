{"file":"dashboard-DO6AbTnk.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrInterpolate","_push","_parent","_ssrRenderList","_createTextVNode","_toDisplayString","$route","_createBlock","_createVNode","_ssrRenderAttr"],"sources":["../../../../components/notifications/NotificationDropdown.vue","../../../../layouts/dashboard.vue"],"sourcesContent":["<template>\n  <div class=\"relative\">\n    <!-- Notification Bell Button -->\n    <button \n      @click=\"toggleDropdown\"\n      class=\"relative p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200\"\n      :class=\"{ 'text-blue-600': hasUnreadNotifications }\"\n    >\n      <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path \n          stroke-linecap=\"round\" \n          stroke-linejoin=\"round\" \n          stroke-width=\"2\" \n          d=\"M15 17h5l-5 5v-5zM4 12v7a2 2 0 002 2h5m0-9h4m-4-4h8m-8-4h8\"\n        />\n      </svg>\n      \n      <!-- Unread Count Badge -->\n      <span \n        v-if=\"unreadCount > 0\" \n        class=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium\"\n      >\n        {{ unreadCount > 99 ? '99+' : unreadCount }}\n      </span>\n    </button>\n\n    <!-- Dropdown Menu -->\n    <Transition\n      enter-active-class=\"transition ease-out duration-200\"\n      enter-from-class=\"transform opacity-0 scale-95\"\n      enter-to-class=\"transform opacity-100 scale-100\"\n      leave-active-class=\"transition ease-in duration-150\"\n      leave-from-class=\"transform opacity-100 scale-100\"\n      leave-to-class=\"transform opacity-0 scale-95\"\n    >\n      <div \n        v-if=\"isDropdownOpen\"\n        class=\"absolute right-0 top-12 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50\"\n        @click.stop\n      >\n        <!-- Header -->\n        <div class=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">Notifications</h3>\n          <div class=\"flex items-center space-x-2\">\n            <button\n              v-if=\"hasUnreadNotifications\"\n              @click=\"markAllAsRead\"\n              class=\"text-sm text-blue-600 hover:text-blue-800 transition-colors\"\n              :disabled=\"isLoading\"\n            >\n              Mark all read\n            </button>\n            <NuxtLink \n              to=\"/dashboard/notifications\"\n              @click=\"closeDropdown\"\n              class=\"text-sm text-gray-600 hover:text-gray-800 transition-colors\"\n            >\n              View all\n            </NuxtLink>\n          </div>\n        </div>\n\n        <!-- Notifications List -->\n        <div class=\"max-h-96 overflow-y-auto\">\n          <div v-if=\"isLoading\" class=\"p-4 text-center\">\n            <div class=\"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto\"></div>\n            <p class=\"text-sm text-gray-500 mt-2\">Loading notifications...</p>\n          </div>\n\n          <div v-else-if=\"notifications.length === 0\" class=\"p-8 text-center\">\n            <svg class=\"w-12 h-12 text-gray-300 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-5 5v-5zM4 12v7a2 2 0 002 2h5m0-9h4m-4-4h8m-8-4h8\" />\n            </svg>\n            <p class=\"text-sm text-gray-500\">No notifications yet</p>\n          </div>\n\n          <div v-else>\n            <NotificationItem\n              v-for=\"notification in notifications\"\n              :key=\"notification.id\"\n              :notification=\"notification\"\n              @click=\"handleNotificationClick\"\n              @mark-read=\"markAsRead\"\n              @mark-unread=\"markAsUnread\"\n              @delete=\"deleteNotification\"\n              class=\"border-b border-gray-100 last:border-b-0\"\n            />\n          </div>\n        </div>\n\n        <!-- Footer -->\n        <div v-if=\"notifications.length > 0\" class=\"p-3 border-t border-gray-200 bg-gray-50\">\n          <NuxtLink \n            to=\"/dashboard/notifications\"\n            @click=\"closeDropdown\"\n            class=\"block w-full text-center text-sm text-blue-600 hover:text-blue-800 transition-colors\"\n          >\n            View all {{ unreadCount > 0 ? `${unreadCount} ` : '' }}notifications\n          </NuxtLink>\n        </div>\n      </div>\n    </Transition>\n\n    <!-- Backdrop -->\n    <div \n      v-if=\"isDropdownOpen\"\n      class=\"fixed inset-0 z-40\"\n      @click=\"closeDropdown\"\n    ></div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted } from 'vue'\nimport type { Notification } from '~/composables/useNotifications'\n\nconst {\n  notifications,\n  unreadCount,\n  isLoading,\n  isDropdownOpen,\n  hasUnreadNotifications,\n  fetchRecentNotifications,\n  markAsRead,\n  markAsUnread,\n  markAllAsRead,\n  deleteNotification,\n  toggleDropdown,\n  closeDropdown,\n  startAutoRefresh,\n  stopAutoRefresh\n} = useNotifications()\n\n// Auto-refresh notifications every minute\nonMounted(() => {\n  fetchRecentNotifications()\n  startAutoRefresh()\n})\n\nonUnmounted(() => {\n  stopAutoRefresh()\n})\n\nconst handleNotificationClick = async (notification: Notification): Promise<void> => {\n  // Mark as read if unread\n  if (!notification.read_at) {\n    await markAsRead(notification.id)\n  }\n  \n  // Navigate to action URL if available\n  const actionUrl = notification.metadata?.action_url\n  if (actionUrl) {\n    closeDropdown()\n    await navigateTo(actionUrl)\n  }\n}\n\n// Close dropdown when clicking outside\nconst handleClickOutside = (event: MouseEvent): void => {\n  if (!(event.target as Element)?.closest('.relative')) {\n    closeDropdown()\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n</script>","<template>\n  <div class=\"min-h-screen bg-gray-50 flex\">\n    <!-- Sidebar -->\n    <div class=\"w-64 bg-white shadow-lg border-r border-gray-200 fixed inset-y-0 left-0 z-50\">\n      <!-- Logo -->\n      <div class=\"flex items-center h-16 px-6 border-b border-gray-200\">\n        <div class=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center mr-3\">\n          <svg class=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path d=\"M10 2L3 7v11h4v-6h6v6h4V7l-7-5z\"/>\n          </svg>\n        </div>\n        <span class=\"text-xl font-bold text-gray-900\">ORDO</span>\n      </div>\n      \n      <!-- User Role Toggle -->\n      <div class=\"px-6 py-4 border-b border-gray-200\">\n        <div class=\"flex items-center space-x-2\">\n          <button \n            @click=\"toggleRole('customer')\"\n            :class=\"currentRole === 'customer' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:text-blue-600'\"\n            class=\"flex-1 px-3 py-2 rounded-md text-sm font-medium text-center\"\n          >\n            Customer\n          </button>\n          <button \n            @click=\"toggleRole('vendor')\"\n            :class=\"currentRole === 'vendor' ? 'bg-purple-100 text-purple-700' : 'text-gray-600 hover:text-purple-600'\"\n            class=\"flex-1 px-3 py-2 rounded-md text-sm font-medium text-center\"\n          >\n            Provider\n          </button>\n        </div>\n      </div>\n      \n      <!-- Navigation -->\n      <nav class=\"mt-6 px-3\">\n        <div class=\"space-y-1\">\n          <!-- Dashboard - Always shown -->\n          <NuxtLink to=\"/dashboard\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" exact-active-class=\"bg-blue-50 text-blue-600\">\n            <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" :class=\"$route.path === '/dashboard' ? 'text-blue-500' : ''\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2 2z\"/>\n            </svg>\n            Dashboard\n          </NuxtLink>\n\n          <!-- Customer Navigation -->\n          <template v-if=\"currentRole === 'customer'\">\n            <NuxtLink to=\"/dashboard/search\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"/>\n              </svg>\n              Find Services\n            </NuxtLink>\n            \n            <NuxtLink to=\"/dashboard/bookings\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"/>\n              </svg>\n              My Bookings\n            </NuxtLink>\n\n            <NuxtLink to=\"/dashboard/favorites\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"/>\n              </svg>\n              Favorites\n            </NuxtLink>\n\n            <NuxtLink to=\"/dashboard/reviews\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"/>\n              </svg>\n              My Reviews\n            </NuxtLink>\n          </template>\n\n          <!-- Vendor Navigation -->\n          <template v-else>\n            <NuxtLink to=\"/dashboard/services\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"/>\n              </svg>\n              My Services\n            </NuxtLink>\n            \n            <NuxtLink to=\"/dashboard/bookings\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"/>\n              </svg>\n              Appointments\n            </NuxtLink>\n            \n            <NuxtLink to=\"/dashboard/calendar\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"/>\n              </svg>\n              Calendar\n            </NuxtLink>\n            \n            <NuxtLink to=\"/dashboard/analytics\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"/>\n              </svg>\n              Analytics\n            </NuxtLink>\n\n            <NuxtLink to=\"/dashboard/earnings\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"/>\n              </svg>\n              Earnings\n            </NuxtLink>\n\n            <NuxtLink to=\"/dashboard/reviews\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n              <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"/>\n              </svg>\n              Customer Reviews\n            </NuxtLink>\n          </template>\n\n          <!-- Common Navigation Items -->\n          <NuxtLink to=\"/dashboard/payments\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n            <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\"/>\n            </svg>\n            {{ currentRole === 'customer' ? 'Payment History' : 'Payments' }}\n          </NuxtLink>\n          \n          <NuxtLink to=\"/dashboard/notifications\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n            <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17h5l-5 5v-5zM4 12v7a2 2 0 002 2h5m0-9h4m-4-4h8m-8-4h8\"/>\n            </svg>\n            Notifications\n          </NuxtLink>\n          \n          <NuxtLink to=\"/dashboard/profile\" class=\"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-3 py-2 text-sm font-medium rounded-md\" active-class=\"bg-blue-50 text-blue-600\">\n            <svg class=\"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/>\n            </svg>\n            Profile Settings\n          </NuxtLink>\n        </div>\n      </nav>\n      \n      <!-- User Profile -->\n      <div class=\"absolute bottom-0 w-full px-6 py-4 border-t border-gray-200\">\n        <div class=\"flex items-center justify-between\">\n          <NuxtLink to=\"/dashboard/profile\" class=\"flex items-center flex-1 group hover:bg-gray-50 rounded-lg p-2 -m-2 transition-colors\">\n            <div class=\"relative\">\n              <div class=\"w-10 h-10 rounded-full overflow-hidden bg-gray-200\">\n                <img \n                  v-if=\"profileUser?.avatar_url || user?.avatar\" \n                  :src=\"profileUser?.avatar_url || user?.avatar || 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face'\" \n                  :alt=\"profileUser?.name || user?.name || 'User'\" \n                  class=\"w-full h-full object-cover\"\n                >\n                <div v-else class=\"w-full h-full flex items-center justify-center bg-blue-500 text-white text-sm font-bold\">\n                  {{ userInitials || (user?.name ? user.name.charAt(0).toUpperCase() : 'U') }}\n                </div>\n              </div>\n              <!-- Profile completion indicator -->\n              <div \n                v-if=\"profileUser && profileCompletion < 100\"\n                class=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-orange-400 border-2 border-white rounded-full\"\n                :title=\"`Profile ${profileCompletion}% complete`\"\n              ></div>\n            </div>\n            <div class=\"ml-3 flex-1 min-w-0\">\n              <div class=\"text-sm font-medium text-gray-900 truncate\">\n                {{ displayName || user?.name || 'User' }}\n              </div>\n              <div class=\"text-xs text-gray-500 flex items-center\">\n                <span>{{ currentRole === 'vendor' ? 'Service Provider' : 'Customer' }}</span>\n                <span v-if=\"profileUser && profileCompletion < 100\" class=\"ml-2 text-orange-600\">\n                  {{ profileCompletion }}% complete\n                </span>\n              </div>\n            </div>\n          </NuxtLink>\n          \n          <!-- Dropdown menu -->\n          <div class=\"relative\" data-dropdown>\n            <button \n              @click=\"showProfileMenu = !showProfileMenu\"\n              class=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n              title=\"Profile menu\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"/>\n              </svg>\n            </button>\n            \n            <!-- Dropdown -->\n            <div \n              v-if=\"showProfileMenu\"\n              class=\"absolute bottom-full right-0 mb-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50\"\n            >\n              <NuxtLink \n                to=\"/dashboard/profile\" \n                class=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                @click=\"showProfileMenu = false\"\n              >\n                <div class=\"flex items-center\">\n                  <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/>\n                  </svg>\n                  Profile Settings\n                </div>\n              </NuxtLink>\n              <hr class=\"my-1\">\n              <button \n                @click=\"handleLogout\"\n                class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50\"\n              >\n                <div class=\"flex items-center\">\n                  <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"/>\n                  </svg>\n                  Logout\n                </div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content Area -->\n    <div class=\"flex-1 ml-64\">\n      <!-- Top Header -->\n      <header class=\"bg-white shadow-sm border-b border-gray-200\">\n        <div class=\"px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <h1 class=\"text-2xl font-bold text-gray-900\">{{ pageTitle }}</h1>\n              <p class=\"text-gray-600\">{{ pageSubtitle }}</p>\n            </div>\n            \n            <div class=\"flex items-center space-x-4\">\n              <!-- Search -->\n              <div class=\"relative\">\n                <svg class=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"/>\n                </svg>\n                <input type=\"text\" placeholder=\"Search services, providers...\" class=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-64\">\n              </div>\n              \n              <!-- Notifications -->\n              <NotificationsNotificationDropdown />\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <!-- Page Content -->\n      <main class=\"p-6\">\n        <slot />\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\n\n// Use auth composable\nconst { user, logout } = useAuth()\nconst route = useRoute()\n\n// User role state\nconst { currentRole, toggleRole } = useRole()\n\n// Profile composable for enhanced user data\nconst { \n  user: profileUser, \n  profileCompletion, \n  displayName, \n  userInitials,\n  fetchProfile \n} = useProfile()\n\n// UI state\nconst showProfileMenu = ref(false)\n\n// Page title computation\nconst pageTitle = computed(() => {\n  const path = route.path\n  if (path === '/dashboard') return `Good Morning, ${user.value?.name || 'User'}!`\n  if (path === '/dashboard/notifications') return 'Notifications'\n  if (path === '/dashboard/services') return 'Services'\n  if (path === '/dashboard/bookings') return 'Bookings'\n  if (path === '/dashboard/calendar') return 'Calendar'\n  if (path === '/dashboard/analytics') return 'Analytics'\n  if (path === '/dashboard/payments') return 'Payments'\n  if (path === '/dashboard/profile') return 'Profile Settings'\n  return 'Dashboard'\n})\n\nconst pageSubtitle = computed(() => {\n  const path = route.path\n  if (path === '/dashboard') return `Here's what's happening with your ${currentRole.value === 'vendor' ? 'business' : 'bookings'} today.`\n  if (path === '/dashboard/notifications') return 'Manage your notifications and stay updated'\n  if (path === '/dashboard/profile') return 'Manage your account settings and preferences'\n  return ''\n})\n\n// Functions\nconst handleLogout = async () => {\n  await logout()\n  await navigateTo('/')\n}\n\n// Close dropdown when clicking outside\nconst handleClickOutside = (event) => {\n  if (!event.target.closest('[data-dropdown]')) {\n    showProfileMenu.value = false\n  }\n}\n\n// Fetch user data on mount\nonMounted(async () => {\n  const { fetchUser } = useAuth()\n  \n  try {\n    // Fetch basic user data first\n    await fetchUser()\n    \n    // Only fetch profile data if we have a user authenticated\n    if (user.value) {\n      try {\n        await fetchProfile()\n      } catch (profileError) {\n        console.warn('Profile data not available:', profileError)\n        // Profile fetch failed, but continue with basic user data\n      }\n    }\n  } catch (authError) {\n    console.error('Authentication failed:', authError)\n  }\n  \n  // Add click listener for closing dropdown\n  document.addEventListener('click', handleClickOutside)\n})\n\n// Cleanup on unmount\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n</script>"],"version":3}